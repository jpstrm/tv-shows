(this["webpackJsonptv-shows"]=this["webpackJsonptv-shows"]||[]).push([[0],{39:function(e,t,a){e.exports=a(79)},44:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),o=a.n(r);a(44),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(14),s=a(3),l=a(36),u=a.n(l),m=a(37),d=a.n(m),h=a(38),p=a(15),E={list:[],search:"",selected:{},episode:{}},f=Object(s.c)({shows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWS_FETCHED":case"SHOWS_SEARCHED":return Object(p.a)(Object(p.a)({},e),{},{list:t.payload});case"SHOWS_SEARCH_CHANGED":return Object(p.a)(Object(p.a)({},e),{},{search:t.payload});case"SHOWS_FIND_ONE":return Object(p.a)(Object(p.a)({},e),{},{selected:t.payload});case"SHOWS_FIND_LAST_EPISODE":return Object(p.a)(Object(p.a)({},e),{},{episode:t.payload});default:return e}}}),v=a(13),w=a(2),O=(a(53),a(54),function(e){return c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,e.title))}),b=(a(55),"http://api.tvmaze.com"),y=a(16),j=a.n(y),S=a(4),N=function e(){Object(S.a)(this,e),this.findById=function(e){return j.a.get("".concat(b,"/shows/").concat(e)).then((function(e){return e.data}))},this.findLastEpisode=function(e){return(e=e||"")?j.a.get(e.previousepisode.href).then((function(e){return e.data})):Promise.resolve({})},this.findAll=function(){return j.a.get("".concat(b,"/shows")).then((function(e){return e.data}))},this.searchByName=function(e){var t=e?"?q=".concat(e):"";return j.a.get("".concat(b,"/search/shows").concat(t)).then((function(e){return e.data.map((function(e){return e.show}))}))}},g=function(){return function(e){j.a.get("".concat(b,"/shows")).then((function(t){var a=t.data.map((function(e){return{id:e.id,image:e.image}}));e({type:"SHOWS_FETCHED",payload:a})}))}},_=function(e){return{type:"SHOWS_SEARCH_CHANGED",payload:e.target.value}},D=function(){return function(e,t){var a=t().shows.search;(new N).searchByName(a).then((function(t){var a=t.map(k);e({type:"SHOWS_SEARCHED",payload:a})}))}},C=function(e){return function(t){(new N).findById(e).then((function(e){t({type:"SHOWS_FIND_ONE",payload:e})}))}},H=function(){return function(e,t){var a=t().shows.selected._links;(new N).findLastEpisode(a).then((function(t){e({type:"SHOWS_FIND_LAST_EPISODE",payload:t})}))}},k=function(e){return{id:e.id,name:e.name,image:e.image,runtime:e.runtime,status:e.status,type:e.type,genres:e.genres,summary:e.summary,_links:e._links}};var I=Object(i.b)((function(e){return{searchValue:e.shows.search}}),(function(e){return Object(s.b)({searchByName:D,updateSearch:_},e)}))((function(e){return c.a.createElement("div",{className:"search"},c.a.createElement("input",{type:"text",placeholder:"Search",value:e.searchValue,onChange:function(t){return e.updateSearch(t)},onKeyPress:function(t){var a;"Enter"===(a=t).key&&(e.updateSearch(a),e.searchByName())}}))})),A=a(9),W=a(11),B=a(10),x=(a(73),a(74),function(e){return c.a.createElement("div",{className:"Card "+(e.hasImg?"":"no-img")},e.children)}),L=(a(75),function(e){return!!e.test&&e.children});function T(e){var t=e.show||{},a=!!t.image,n=a?t.image.medium:"";return c.a.createElement(v.b,{to:"/shows/detail/".concat(t.id)},c.a.createElement(L,{test:a},c.a.createElement("img",{src:n,alt:"Show",height:280,className:a?"":"no-img"})),c.a.createElement(L,{test:!a},c.a.createElement("p",null,t.name)))}var F=function(e){Object(W.a)(a,e);var t=Object(B.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.findAll()}},{key:"render",value:function(){var e=(this.props.list||[]).map((function(e){return c.a.createElement(x,{key:e.id,hasImg:!!e.image},c.a.createElement(T,{show:e}))}));return c.a.createElement("div",{className:"ShowList"},e)}}]),a}(n.Component),R=Object(i.b)((function(e){return{list:e.shows.list}}),(function(e){return Object(s.b)({findAll:g},e)}))(F),V=(a(77),a(78),function(e){Object(W.a)(a,e);var t=Object(B.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.episode;return t.id&&!a.id&&this.props.findLastEpisode(),c.a.createElement("div",{className:"ShowOverview"},c.a.createElement("div",{className:"img"},c.a.createElement(T,{show:t})),c.a.createElement("div",null,c.a.createElement("p",{className:"title"},t.name),c.a.createElement("p",{className:"season"},"Season ",c.a.createElement("strong",null,a.season))))}}]),a}(n.Component)),M=Object(i.b)((function(e){return{show:e.shows.selected,episode:e.shows.episode}}),(function(e){return Object(s.b)({findLastEpisode:H},e)}))(V),P=function(e){Object(W.a)(a,e);var t=Object(B.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,"Episodes c")}}]),a}(n.Component),X=function(e){Object(W.a)(a,e);var t=Object(B.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,"Details c")}}]),a}(n.Component),G=function(e){Object(W.a)(a,e);var t=Object(B.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,"Cast c")}}]),a}(n.Component),J=function(e){Object(W.a)(a,e);var t=Object(B.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=(this.props.match.params||1).id;this.props.findById(e)}},{key:"render",value:function(){var e=this.props.show||{},t=(e.image&&e.image.medium,e.genres,this.props.match.url);return c.a.createElement("div",{className:"ShowDetail"},c.a.createElement(w.c,null,c.a.createElement(w.a,{exact:!0,path:"".concat(t)},c.a.createElement("div",{className:"row"},c.a.createElement(M,null))),c.a.createElement(w.a,{exact:!0,path:"".concat(t,"/overview")},c.a.createElement("div",{className:"row"},c.a.createElement(M,null))),c.a.createElement(w.a,{exact:!0,path:"".concat(t,"/episodes")},c.a.createElement("div",{className:"row"},c.a.createElement(P,null))),c.a.createElement(w.a,{exact:!0,path:"".concat(t,"/details")},c.a.createElement("div",{className:"row"},c.a.createElement(X,null))),c.a.createElement(w.a,{exact:!0,path:"".concat(t,"/cast")},c.a.createElement("div",{className:"row"},c.a.createElement(G,null)))),c.a.createElement("div",{className:"row"},c.a.createElement("div",null,c.a.createElement(v.b,{to:"".concat(t,"/overview")},"Overview"),c.a.createElement(v.b,{to:"".concat(t,"/episodes")},"Episodes"),c.a.createElement(v.b,{to:"".concat(t,"/details")},"Details"),c.a.createElement(v.b,{to:"".concat(t,"/cast")},"Cast"))))}}]),a}(n.Component),U=Object(i.b)((function(e){return{show:e.shows.selected}}),(function(e){return Object(s.b)({findById:C},e)}))(J);var q=function(e){return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"row"},c.a.createElement(v.b,{to:"/"},c.a.createElement(O,{title:"TV Shows & Movies"}))),c.a.createElement(w.c,null,c.a.createElement(w.a,{exact:!0,path:"/"},c.a.createElement("div",{className:"row"},c.a.createElement(I,null)),c.a.createElement("div",{className:"row"},c.a.createElement(R,null))),c.a.createElement(w.a,{exact:!0,path:"/shows/detail"},c.a.createElement("div",{className:"row"},c.a.createElement(U,null)))))},z=function(e){return c.a.createElement(v.a,null,c.a.createElement("div",null,c.a.createElement(w.a,{path:"/",component:q}),c.a.createElement(w.a,{path:"/shows/detail/:id",component:U}),c.a.createElement(w.a,{path:"/shows/detail/:id/#overview",component:M}),c.a.createElement(w.a,{path:"/shows/detail/:id/#episodes",component:P}),c.a.createElement(w.a,{path:"/shows/detail/:id/#details",component:X}),c.a.createElement(w.a,{path:"/shows/detail/:id/#cast",component:G})))},K=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),$=Object(s.a)(h.a,d.a,u.a)(s.d)(f,K);o.a.render(c.a.createElement(i.a,{store:$},c.a.createElement(c.a.StrictMode,null,c.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.3737cdd1.chunk.js.map